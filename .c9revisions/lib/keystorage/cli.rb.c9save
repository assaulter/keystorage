{"ts":1348153205488,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"require 'optparse'\nrequire 'keystorage'\nrequire 'keystorage/commands'\n\nmodule Keystorage\n  class CLI\n    def initialize(argv)\n      @options = Hash.new\n      @options[:file] = DEFAULT_FILE\n      @argv = argv.clone\n      @opt = OptionParser.new\n      @opt.banner=\"Usage: keystorage [options] command [command options] args...\"\n      @opt.on('--help', 'show this message') { usage; exit }\n      @opt.on('-f FILE','--file=FILE', 'file to store password') { |v|\n        @options[:file] = v;\n      }\n    end\n    \n    def usage\n      puts @opt;\n      puts \"Commands:\"\n      @commands = [\"list\",\"set\",\"get\",\"help\"]\n      @commands.each do |m|\n        puts \"    \"+m\n      end\n    end\n\n    def execute\n      argv = @opt.parse(@argv)\n      command = argv.shift\n      unless command\n        usage;exit\n      end\n      Commands.send(command,argv,@options) \n    end\n\n    class << self\n      def run(argv)\n        self.new(argv).execute\n      end\n    end\n  end\nend\n\n"]],"start1":0,"start2":0,"length1":0,"length2":952}]],"length":952}
